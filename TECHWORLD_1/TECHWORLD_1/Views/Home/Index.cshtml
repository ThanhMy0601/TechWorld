@{
    ViewData["Title"] = "Home Page";
}

<style>
    .title-spm {       
        margin: 15px auto 0;
        letter-spacing: .1px;
        width: 77%;       
        font-weight: 500;
        max-height: 52px;      
        overflow: hidden;
        padding: 5px 0 0;       
        font-size: 17px;
        text-align: center;  
        font-family:serif;
    }
</style>


<!--Banner-->
    <div class="banner_2">
        <div class="banner_2_background" style="background-image:url(images/banner_2_background.jpg)"></div>
        <div class="banner_2_container">
            <div class="banner_2_dots">
                <div class="owl-dot">
                    <span></span>
                </div>
                <div class="owl-dot">
                    <span></span>
                </div>
                <div class="owl-dot">
                    <span></span>
                </div>
            </div>
            <!-- Banner 2 Slider -->

            <div class="owl-carousel owl-theme banner_2_slider">

                <!-- Banner 2 Slider Item -->
                <div class="owl-item">
                    <div class="banner_2_item">
                        <div class="container fill_height">
                            <div class="row fill_height">
                                <div class="col-lg-4 col-md-6 fill_height">
                                    <div class="banner_2_content">
                                        <div class="banner_2_category"></div>
                                        <div class="banner_2_title">MacBook Air 13</div>
                                        <div class="banner_2_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas fermentum laoreet.</div>
                                     
                                        <div class="button banner_2_button"><a href="#">Explore</a></div>
                                    </div>

                                </div>
                                <div class="col-lg-8 col-md-6 fill_height">
                                    <div class="banner_2_image_container">
                                        <div class="banner_2_image"><img src="images/banner_2_product.png" alt=""></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Banner 2 Slider Item -->
                <div class="owl-item">
                    <div class="banner_2_item">
                        <div class="container fill_height">
                            <div class="row fill_height">
                                <div class="col-lg-4 col-md-6 fill_height">
                                    <div class="banner_2_content">
                                        <div class="banner_2_category">Laptops</div>
                                        <div class="banner_2_title">MacBook Air 13</div>
                                        <div class="banner_2_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas fermentum laoreet.</div>
                                        <div class="button banner_2_button"><a href="#">Explore</a></div>
                                    </div>

                                </div>
                                <div class="col-lg-8 col-md-6 fill_height">
                                    <div class="banner_2_image_container">
                                        <div class="banner_2_image"><img src="images/banner_2_product.png" alt=""></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Banner 2 Slider Item -->
                <div class="owl-item">
                    <div class="banner_2_item">
                        <div class="container fill_height">
                            <div class="row fill_height">
                                <div class="col-lg-4 col-md-6 fill_height">
                                    <div class="banner_2_content">
                                        <div class="banner_2_category">Laptops</div>
                                        <div class="banner_2_title">MacBook Air 13</div>
                                        <div class="banner_2_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas fermentum laoreet.</div>
                                        <div class="button banner_2_button"><a href="#">Explore</a></div>
                                    </div>

                                </div>
                                <div class="col-lg-8 col-md-6 fill_height">
                                    <div class="banner_2_image_container">
                                        <div class="banner_2_image"><img src="images/banner_2_product.png" alt=""></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

<!--Sản phẩm mới-->
<div class="new_arrivals">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="tabbed_container">
                    <div class="tabs clearfix tabs-right">
                        <div class="new_arrivals_title" style="font-family:serif; font-weight:bold;font-size:30px;">Sản Phẩm Mới</div>
                        <ul class="clearfix">
                            <li class="active"></li>
                            <li></li>
                            <li></li>
                        </ul>
                        <div class="tabs_line"><span></span></div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12" style="z-index:1;">

                            <!-- Product Panel -->
                            <div class="product_panel panel active">
                                <div class="arrivals_slider slider" style="padding-left:37px;padding-right:30px;width:1157px;height:690px;">

                                    <!-- Slider Item -->
                                    @{
                                        TechWorld_2Context db = new TechWorld_2Context();
                                        List<HangHoa> hanghoamoi = db.HangHoa.Where(p => p.SanPhamMoi=="new").ToList(); //tạo một danh sách hàng hóa mới 
                                        Random rd_hhm = new Random();
                                        List<HangHoa> hanghoamoi_rd = hanghoamoi.OrderBy(x => rd_hhm.Next()).ToList();
                                    }
                                    @foreach (var item in hanghoamoi_rd)
                                    {
                                        <div class="arrivals_slider_item" style="height:285px">
                                            <div class="border_active" style="height:227px;"></div>
                                            <div class="product_item is_new d-flex flex-column align-items-center justify-content-center text-center" style="width:233px;">
                                                <div class="product_image d-flex flex-column align-items-center justify-content-center" style="width:206px;height:115px;"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl"><img src="~/HangHoa/@item.Hinh" alt="" style="width:100px;height:104px;"></a></div>
                                                <div class="product_content">
                                                    <div class="product_price" style="font-size:16px;margin-top:28px;">@item.DonGia.ToString("#,##0") đ</div>
                                                    <div class="title-spm"><div><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl" style="color:dimgray;">@item.TenHh</a></div></div>
                                                    <div class="product_extras">
                                                       
                                                        <button class="product_cart_button"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl" style="color:white;">Xem Chi Tiết</a></button>
                                                        
                                                    </div>
                                                </div>
                                                <div class="product_fav"><i class="fas fa-heart"></i></div>
                                                <ul class="product_marks">
                                                    <li class="product_mark product_discount">-25%</li>
                                                    <li class="product_mark product_new">new</li>
                                                </ul>
                                            </div>
                                        </div>
                                    }

                                </div>
                                <div class="arrivals_slider_dots_cover"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!--Sản phẩm bán chạy-->
<div class="best_sellers">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="tabbed_container">
                    <div class="tabs clearfix tabs-right">
                        <div class="new_arrivals_title" style="font-family:serif; font-weight:bold;font-size:30px;">Sản Phẩm Bán Chạy</div>
                        <ul class="clearfix">
                            <li class="active"></li>
                            <li></li>
                            <li></li>
                        </ul>
                        <div class="tabs_line"><span></span></div>
                    </div>

                    <div class="bestsellers_panel panel active">

                        <!-- Best Sellers Slider -->

                        <div class="bestsellers_slider slider">

                            <!-- Best Sellers Item -->
                            @{
                                List<HangHoa> hhbc = db.HangHoa.ToList();
                                Random rd_hhbc = new Random();
                                List<HangHoa> hanghoabanchay_rd = hhbc.OrderByDescending(x => rd_hhbc.Next()).Take(18).ToList();
                            }
                            @foreach (var item in hanghoabanchay_rd)
                            {
                            <div class="bestsellers_item discount" style="height:195px;">
                                <div class="bestsellers_item_container d-flex flex-row align-items-center justify-content-start">
                                    <div class="bestsellers_image"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl"><img src="~/HangHoa/@item.Hinh" alt=""></a></div>
                                    <div class="bestsellers_content">

                                        <div class="bestsellers_name" style="overflow:hidden;max-height:50px;width:70%;text-align:center;"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl">@item.TenHh</a></div>

                                        @{
                                            double giaban = item.DonGia * (1 - item.GiamGia);
                                        }
                                        <div class="bestsellers_price discount">@giaban.ToString("#,##0") đ<br><span>@item.DonGia.ToString("#,##0") đ</span></div>
                                    </div>
                                </div>

                                @{

                                    if (item.SoLuong > 10)
                                    {
                                        double gg = item.GiamGia * 100;
                                        if (gg == 0)
                                        {
                                            <ul class="bestsellers_marks">
                                                <li></li>
                                            </ul>
                                        }
                                        else
                                        {
                                            <ul class="bestsellers_marks">
                                                <li class="bestsellers_mark bestsellers_discount">-@gg%</li>
                                            </ul>
                                        }

                                    }
                                    else if (item.SoLuong > 0)
                                    {
                                        <ul class="bestsellers_marks">
                                            <li class="bestsellers_mark bestsellers_discount" style="width:67px;color:yellow;">Sắp hết hàng</li>
                                        </ul>
                                    }
                                    else
                                    {
                                        <ul class="bestsellers_marks">
                                            <li class="bestsellers_mark bestsellers_discount" style="width:67px;color:red;background-color:#d5d8da;">Đã hết hàng</li>
                                        </ul>
                                    }
                                }


                            </div>
                            }


                        </div>
                    </div>


                </div>

            </div>
        </div>
    </div>
</div>

<!--Sản phẩm nổi bật-->
<div class="trends">
    <div class="trends_background" style="background-image:url(images/trends_background.jpg)"></div>
    <div class="trends_overlay"></div>
    <div class="container">
        <div class="row">

            <!-- Trends Content -->
            <div class="col-lg-3">
                <div class="trends_container">
                    <h2 class="trends_title" style="font-family:serif; font-weight:bold;font-size: 67px;color:red;">HOT DEALS</h2>

                    <div class="trends_slider_nav">
                        <div class="trends_prev trends_nav"><i class="fas fa-angle-left ml-auto"></i></div>
                        <div class="trends_next trends_nav"><i class="fas fa-angle-right ml-auto"></i></div>
                    </div>
                </div>
            </div>

            <!-- Trends Slider -->
            <div class="col-lg-9">
                <div class="trends_slider_container">

                    <!-- Trends Slider -->

                    <div class="owl-carousel owl-theme trends_slider">

                        <!-- Trends Slider Item -->
                        @{
                            List<HangHoa> hhnb = db.HangHoa.Where(p => p.GiamGia > 0.40).ToList();// lưu trữ danh sách các sản phẩm có GiamGia sớn hơn 45%
                        }
                        @foreach (var item in hhnb)
                        {
                            <div class="owl-item">
                                <div class="trends_item is_new" style="height:415px;">
                                    <div class="trends_image d-flex flex-column align-items-center justify-content-center"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl"><img src="~/HangHoa/@item.Hinh" alt=""></a></div>
                                    <div class="trends_content">
                                        
                                        <div class="trends_info clearfix">
                                            <div class="trends_name" style="overflow:hidden;width:80%;max-height:50px;"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl">@item.TenHh</a></div>

                                            @{
                                                double giaban = item.DonGia * (1 - item.GiamGia);
                                            }
                                            <div class="bestsellers_price discount" style="color:red;margin-top:85px;">@giaban.ToString("#,##0") đ<br><span>@item.DonGia.ToString("#,##0") đ</span></div>
                                        </div>
                                    </div>
                                    @{
                                        
                                        if (item.SoLuong > 10)
                                        {
                                            double gg = item.GiamGia * 100;
                                            if (gg == 0)
                                            {
                                                <ul class="trends_marks">
                                                    <li></li>
                                                </ul>
                                            }
                                            else
                                            {
                                                <ul class="trends_marks">
                                                    <li class="trends_mark trends_new" style="background-color:#df3b3b;">-@gg%</li>
                                                </ul>
                                            }

                                        }
                                        else if (item.SoLuong > 0)
                                        {
                                            <ul class="trends_marks">
                                                <li class="trends_mark trends_new" style="background-color:#df3b3b;color:yellow;width:67px;">Sắp hết hàng</li>
                                            </ul>
                                        }
                                        else
                                        {
                                            <ul class="trends_marks">
                                                <li class="trends_mark trends_new" style="background-color:#d5d8da;width:67px;color:red;">Đã hết hàng</li>
                                            </ul>
                                        }
                                    }

                                    <div class="trends_fav"><i class="fas fa-heart"></i></div>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!--Sản phẩm gợi ý-->
<div class="viewed">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="viewed_title_container">
                    <h3 class="viewed_title" style="font-family:serif; font-weight:bold;font-size:30px;">Sản Phẩm Gợi Ý</h3>
                    <div class="viewed_nav_container">
                        <div class="viewed_nav viewed_prev"><i class="fas fa-chevron-left"></i></div>
                        <div class="viewed_nav viewed_next"><i class="fas fa-chevron-right"></i></div>
                    </div>
                </div>

                <div class="viewed_slider_container">

                    <!-- Recently Viewed Slider -->

                    <div class="owl-carousel owl-theme viewed_slider">

                        <!-- Recently Viewed Item -->
                        @{
                            List<HangHoa> hh = db.HangHoa.ToList();
                            Random rd = new Random();
                            List<HangHoa> hh_rd = hh.OrderBy(x => rd.Next()).ToList();// lưu trữ một danh sách hàng hóa đã được random
                        }
                        @foreach (var item in hh_rd)
                        {
                            <div class="owl-item">
                                <div class="viewed_item discount d-flex flex-column align-items-center justify-content-center text-center" style="height:300px;width:187px;">
                                    <div class="viewed_image"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl"><img src="~/HangHoa/@item.Hinh" alt=""></a></div>
                                    <div class="viewed_content text-center">
                                        @{
                                            double giaban = item.DonGia * (1 - item.GiamGia);
                                        }
                                        <div class="viewed_price">@giaban.ToString("#,##0") đ<br /><span>@item.DonGia.ToString("#,##0") đ</span></div>
                                        <div class="viewed_name" style="overflow:hidden; width:77%;max-height:40px;text-align:center;"><a href="/san-pham/@item.MaHh/@item.TenHhSeoUrl">@item.TenHh</a></div>
                                    </div>
                                    @{
                                        
                                        if (item.SoLuong > 10)
                                        {
                                            double gg = item.GiamGia * 100;
                                            if (gg == 0)
                                            {
                                                <ul class="item_marks">
                                                    <li></li>
                                                </ul>
                                            }
                                            else
                                            {
                                                <ul class="item_marks">
                                                    <li class="item_mark item_discount">-@gg%</li>
                                                </ul>
                                            }

                                        }
                                        else if (item.SoLuong > 0)
                                        {
                                            <ul class="item_marks">
                                                <li class="item_mark item_discount" style="color:yellow;width:67px;">Sắp hết hàng</li>
                                            </ul>
                                        }
                                        else
                                        {
                                            <ul class="item_marks">
                                                <li class="item_mark item_discount" style="background-color:#d5d8da;color:red;width:67px;">Đã hết hàng</li>
                                            </ul>
                                        }
                                    }

                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>